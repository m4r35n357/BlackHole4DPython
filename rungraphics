#!/bin/sh

initialConditions=$1
time=$2
nPoints=$3
shift 3
coordinates=$*

dataFile='/tmp/data'

# run simulator
#./newton <$initialConditions >$dataFile 2>errors
#./bh3d <$initialConditions >$dataFile 2>errors
./bh3d.py <$initialConditions >$dataFile 2>errors

# plot orbit
./filegraphics.py $dataFile $initialConditions $time $nPoints &

# plot potential, coordinates/velocities (optional) and errors
./filepotential.py potential &
for coordinate in $coordinates
do
	./phase.py $dataFile $time $nPoints $coordinate &
	./interpolate.py $dataFile $time $nPoints $coordinate &
done
./errorchart.py $dataFile $time $nPoints &

